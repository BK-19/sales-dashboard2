<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Dashboard - Upload CSV</title>
    
    <!-- 1. Import Libraries via CDN (โหลดผ่านเน็ต) -->
    <!-- Tailwind CSS สำหรับตกแต่ง -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM (ระบุเวอร์ชัน 18.2.0 ให้ชัดเจน) -->
    <script crossorigin src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Prop-Types (จำเป็นสำหรับ Recharts บางเวอร์ชัน) -->
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>

    <!-- Recharts (ระบุเวอร์ชัน 2.12.7 ที่เสถียรสำหรับ Standalone) -->
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    
    <!-- Babel สำหรับแปลงโค้ด React ใน Browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- PapaParse สำหรับอ่านไฟล์ CSV -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #f8fafc; }
        /* เพิ่มฟอนต์ภาษาไทยสวยๆ ถ้าเครื่องมีเน็ต */
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
    </style>
</head>
<body>

    <div id="root"></div>

    <!-- 2. React Code -->
    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;
        const { 
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
            LineChart, Line, PieChart, Pie, Cell 
        } = window.Recharts;

        // --- ICON COMPONENTS ---
        const IconDashboard = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>;
        const IconUpload = () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>;
        const IconFilter = ({size = 20, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>;
        const IconRefresh = () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>;
        const IconCart = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>;
        const IconTrend = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>;
        const IconAward = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>;
        const IconUsers = ({size = 24, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>;
        const IconBox = ({size = 24, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>;
        const IconMap = ({size = 24, className}) => <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"/><line x1="8" y1="2" x2="8" y2="18"/><line x1="16" y1="6" x2="16" y2="22"/></svg>;

        // --- ข้อมูลตัวอย่าง (Mock Data) เริ่มต้น ---
        const initialData = [
            { id: "TR-001", date: "2025-01-01", region: "North", rep: "สมชาย", product: "Electronics", sales: 15000, target: 12000, satisfaction: 5, status: "Completed" },
            { id: "TR-002", date: "2025-01-02", region: "Central", rep: "วิภา", product: "Furniture", sales: 8500, target: 10000, satisfaction: 4, status: "Completed" },
            { id: "TR-003", date: "2025-01-03", region: "East", rep: "ก้อง", product: "Office Supplies", sales: 2400, target: 2000, satisfaction: 3, status: "Pending" },
            { id: "TR-004", date: "2025-01-04", region: "South", rep: "นารี", product: "Electronics", sales: 25000, target: 20000, satisfaction: 5, status: "Completed" }
        ];

        const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8', '#82ca9d'];

        // --- COMPONENT: CARD ---
        const Card = ({ title, value, subtext, icon: Icon, colorClass }) => (
            <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-start justify-between transition hover:shadow-md">
                <div>
                    <p className="text-gray-500 text-sm font-medium mb-1">{title}</p>
                    <h3 className="text-2xl font-bold text-gray-800">{value}</h3>
                    {subtext && <p className={`text-xs mt-2 ${subtext.includes('+') ? 'text-green-500' : 'text-gray-400'}`}>{subtext}</p>}
                </div>
                <div className={`p-3 rounded-lg ${colorClass} bg-opacity-10`}>
                    <Icon />
                </div>
            </div>
        );

        // --- COMPONENT: SLICER (HORIZONTAL BUTTONS) ---
        const Slicer = ({ title, options, selected, onSelect, icon: Icon }) => (
            <div className="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col h-full">
                <div className="bg-gray-50 px-4 py-2 border-b border-gray-100 flex items-center gap-2">
                    {Icon ? <Icon size={14} className="text-gray-400"/> : <IconFilter size={14} className="text-gray-400"/>}
                    <span className="font-semibold text-sm text-gray-600 uppercase tracking-wider">{title}</span>
                </div>
                <div className="p-3 bg-white">
                    <div className="flex flex-wrap gap-2">
                        {options.map(option => (
                            <button
                                key={option}
                                onClick={() => onSelect(option)}
                                className={`px-4 py-1.5 text-sm rounded-full border transition-all duration-200 font-medium ${
                                    selected === option
                                        ? 'bg-indigo-600 text-white border-indigo-600 shadow-md transform scale-105'
                                        : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:border-gray-300'
                                }`}
                            >
                                {option}
                            </button>
                        ))}
                    </div>
                </div>
            </div>
        );

        // --- COMPONENT: DROPDOWN (SELECT BOX) ---
        const Dropdown = ({ title, options, selected, onSelect, icon: Icon }) => (
             <div className="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden flex flex-col h-full">
                <div className="bg-gray-50 px-4 py-2 border-b border-gray-100 flex items-center gap-2">
                    {Icon ? <Icon size={14} className="text-gray-400"/> : <IconFilter size={14} className="text-gray-400"/>}
                    <span className="font-semibold text-sm text-gray-600 uppercase tracking-wider">{title}</span>
                </div>
                <div className="p-4 bg-white flex items-center justify-center h-full">
                    <div className="relative w-full">
                        <select
                            value={selected}
                            onChange={(e) => onSelect(e.target.value)}
                            className="w-full p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition appearance-none cursor-pointer shadow-sm hover:border-gray-400"
                        >
                            {options.map(option => (
                                <option key={option} value={option}>{option}</option>
                            ))}
                        </select>
                        <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                            <svg className="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                        </div>
                    </div>
                </div>
            </div>
        );

        // --- MAIN APP COMPONENT ---
        const App = () => {
            const [data, setData] = useState(initialData);
            const [fileName, setFileName] = useState("Mockup Data (ตัวอย่าง)");
            
            // State สำหรับ Filters
            const [selectedRegion, setSelectedRegion] = useState('All');
            const [selectedRep, setSelectedRep] = useState('All');
            const [selectedProduct, setSelectedProduct] = useState('All');

            // --- CSV UPLOAD HANDLER ---
            const handleFileUpload = (event) => {
                const file = event.target.files[0];
                if (!file) return;

                setFileName(file.name);

                Papa.parse(file, {
                    header: true,
                    skipEmptyLines: true,
                    complete: (results) => {
                        const parsedData = results.data.map((row, index) => {
                            return {
                                id: row.Transaction_ID || row.id || `TR-${index}`,
                                date: convertDate(row.Date || row.date),
                                region: row.Region || row.region || "Unknown",
                                rep: row.Sales_Rep || row.rep || "Unknown",
                                product: row.Product_Category || row.product || row.Product || "Other",
                                sales: Number((row.Sales_Amount || row.sales || "0").toString().replace(/,/g, '')),
                                target: Number((row.Target || row.target || "0").toString().replace(/,/g, '')),
                                satisfaction: Number(row.Satisfaction || row.satisfaction || 0),
                                status: row.Status || row.status || "Unknown"
                            };
                        }).filter(item => item.sales > 0 || item.id);

                        setData(parsedData);
                        setSelectedRegion('All');
                        setSelectedRep('All');
                        setSelectedProduct('All');
                    },
                    error: (err) => {
                        alert("เกิดข้อผิดพลาดในการอ่านไฟล์ CSV: " + err.message);
                    }
                });
            };

            const convertDate = (dateStr) => {
                if (!dateStr) return "";
                if (dateStr.includes('-')) {
                    const parts = dateStr.split('-');
                    if (parts[0].length === 4) return dateStr; 
                    return `${parts[2]}-${parts[1]}-${parts[0]}`; 
                }
                if (dateStr.includes('/')) {
                    const parts = dateStr.split('/');
                    return `${parts[2]}-${parts[1]}-${parts[0]}`; 
                }
                return dateStr;
            };

            // --- FILTER LOGIC ---
            const filteredData = useMemo(() => {
                return data.filter(item => {
                    const matchRegion = selectedRegion === 'All' || item.region === selectedRegion;
                    const matchRep = selectedRep === 'All' || item.rep === selectedRep;
                    const matchProduct = selectedProduct === 'All' || item.product === selectedProduct;
                    return matchRegion && matchRep && matchProduct;
                });
            }, [data, selectedRegion, selectedRep, selectedProduct]);

            // --- KPI CALCULATIONS ---
            const totalSales = filteredData.reduce((acc, curr) => acc + curr.sales, 0);
            const totalTarget = filteredData.reduce((acc, curr) => acc + curr.target, 0);
            const percentAchieved = totalTarget > 0 ? ((totalSales / totalTarget) * 100).toFixed(1) : 0;
            const avgSatisfaction = filteredData.length > 0 ? (filteredData.reduce((acc, curr) => acc + curr.satisfaction, 0) / filteredData.length).toFixed(1) : 0;

            // --- CHART DATA PREP ---
            const salesByRegion = useMemo(() => {
                const result = {};
                filteredData.forEach(item => {
                    result[item.region] = (result[item.region] || 0) + item.sales;
                });
                return Object.keys(result).map(key => ({ name: key, sales: result[key] }));
            }, [filteredData]);

            const salesByCategory = useMemo(() => {
                const result = {};
                filteredData.forEach(item => {
                    result[item.product] = (result[item.product] || 0) + item.sales;
                });
                return Object.keys(result).map(key => ({ name: key, value: result[key] }));
            }, [filteredData]);

            // --- DAILY TREND (FIXED: Start 31 Dec, 15 Days) ---
            const dailyTrend = useMemo(() => {
                // 1. Fixed Start Date: 31 Dec 2024 (Assuming data is 2025)
                const startDate = new Date(2024, 11, 31); // 11 is Dec (0-indexed)
                const endDate = new Date(startDate);
                endDate.setDate(startDate.getDate() + 14); // 15 days total

                // 2. Aggregate Sales
                const dayMap = {};
                filteredData.forEach(item => {
                    const key = item.date;
                    if (!dayMap[key]) dayMap[key] = { sales: 0, target: 0 };
                    dayMap[key].sales += item.sales;
                    dayMap[key].target += item.target;
                });

                // 3. Generate 15 Days Range
                const result = [];
                for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
                    // Manual Format YYYY-MM-DD to match key
                    const year = d.getFullYear();
                    const month = String(d.getMonth() + 1).padStart(2, '0');
                    const day = String(d.getDate()).padStart(2, '0');
                    const dateKey = `${year}-${month}-${day}`;

                    // Format for Label: 31 ธ.ค.
                    const label = `${d.getDate()} ${d.toLocaleDateString('th-TH', { month: 'short' })}`;

                    result.push({
                        date: dateKey,
                        name: label,
                        sales: dayMap[dateKey] ? dayMap[dateKey].sales : 0,
                        target: dayMap[dateKey] ? dayMap[dateKey].target : 0
                    });
                }

                return result;
            }, [filteredData]);

            const regions = ['All', ...new Set(data.map(d => d.region))];
            const reps = ['All', ...new Set(data.map(d => d.rep))];
            const products = ['All', ...new Set(data.map(d => d.product))];

            return (
                <div className="min-h-screen bg-gray-50 p-4 md:p-8 font-sans pb-20">
                    {/* HEADER & UPLOAD */}
                    <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                        <div>
                            <h1 className="text-3xl font-bold text-gray-800 flex items-center gap-2">
                                <span className="text-indigo-600"><IconDashboard /></span> 
                                Sales Dashboard
                            </h1>
                            <p className="text-gray-500 mt-1 text-sm">รายงานสรุปยอดขาย (ไฟล์: <span className="font-semibold text-indigo-600">{fileName}</span>)</p>
                        </div>
                        
                        <div className="flex items-center gap-3 bg-white p-2 rounded-lg shadow-sm border border-gray-200">
                            <label className="flex items-center gap-2 cursor-pointer bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition">
                                <IconUpload />
                                <span>Upload .CSV</span>
                                <input type="file" accept=".csv" onChange={handleFileUpload} className="hidden" />
                            </label>
                            <button 
                                onClick={() => {setSelectedRegion('All'); setSelectedRep('All'); setSelectedProduct('All');}}
                                className="flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium transition"
                            >
                                <IconRefresh /> Reset
                            </button>
                        </div>
                    </div>

                    {/* SLICERS (MIXED) */}
                    <div className="bg-white p-4 rounded-xl border border-gray-200 mb-6 shadow-sm">
                        <div className="flex items-center gap-2 mb-4 text-gray-700 font-semibold border-b pb-2">
                            <IconFilter className="text-indigo-600" />
                            <span>Slicers (ตัวกรองข้อมูล)</span>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <Slicer 
                                title="Region (ภาค)" 
                                options={regions} 
                                selected={selectedRegion} 
                                onSelect={setSelectedRegion} 
                                icon={IconMap}
                            />
                            
                            {/* Dropdown */}
                            <Dropdown 
                                title="Sales Rep (พนักงาน)" 
                                options={reps} 
                                selected={selectedRep} 
                                onSelect={setSelectedRep}
                                icon={IconUsers}
                            />
                            
                            <Slicer 
                                title="Product (สินค้า)" 
                                options={products} 
                                selected={selectedProduct} 
                                onSelect={setSelectedProduct}
                                icon={IconBox}
                            />
                        </div>
                    </div>

                    {/* KPI CARDS */}
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <Card 
                            title="Total Sales (ยอดขายรวม)" 
                            value={`฿${totalSales.toLocaleString()}`} 
                            subtext={`${filteredData.length} Transactions`}
                            icon={IconCart} 
                            colorClass="bg-blue-500 text-blue-500" 
                        />
                        <Card 
                            title="Target Achievement (เทียบเป้า)" 
                            value={`${percentAchieved}%`} 
                            subtext={`Target: ฿${totalTarget.toLocaleString()}`}
                            icon={IconTrend} 
                            colorClass={parseFloat(percentAchieved) >= 100 ? "bg-green-500 text-green-500" : "bg-orange-500 text-orange-500"} 
                        />
                        <Card 
                            title="Avg. Satisfaction (ความพึงพอใจ)" 
                            value={`${avgSatisfaction} / 5.0`} 
                            subtext="Customer Rating"
                            icon={IconAward} 
                            colorClass="bg-purple-500 text-purple-500" 
                        />
                        <Card 
                            title="Active Reps (พนักงาน)" 
                            value={new Set(filteredData.map(d=>d.rep)).size} 
                            subtext="Working in selection"
                            icon={IconUsers} 
                            colorClass="bg-pink-500 text-pink-500" 
                        />
                    </div>

                    {/* CHARTS */}
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        
                        {/* Sales by Region */}
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">Sales by Region (ยอดขายรายภาค)</h3>
                            <div className="h-72">
                                <ResponsiveContainer width="100%" height="100%">
                                    <BarChart data={salesByRegion} margin={{top: 5, right: 30, left: 20, bottom: 5}}>
                                        <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#eee" />
                                        <XAxis dataKey="name" tick={{fill: '#6b7280', fontSize: 12}} />
                                        <YAxis tick={{fill: '#6b7280', fontSize: 12}} />
                                        <Tooltip 
                                            formatter={(value) => `฿${value.toLocaleString()}`}
                                            contentStyle={{backgroundColor: '#fff', borderRadius: '8px', border: 'none', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'}} 
                                        />
                                        <Bar dataKey="sales" fill="#4F46E5" radius={[4, 4, 0, 0]} barSize={50} />
                                    </BarChart>
                                </ResponsiveContainer>
                            </div>
                        </div>

                        {/* Product Distribution */}
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">Sales Share (สัดส่วนสินค้า)</h3>
                            <div className="h-72">
                                <ResponsiveContainer width="100%" height="100%">
                                    <PieChart>
                                        <Pie
                                            data={salesByCategory}
                                            cx="50%"
                                            cy="50%"
                                            labelLine={false}
                                            label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}
                                            outerRadius={90}
                                            fill="#8884d8"
                                            dataKey="value"
                                        >
                                            {salesByCategory.map((entry, index) => (
                                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                                            ))}
                                        </Pie>
                                        <Tooltip formatter={(value) => `฿${value.toLocaleString()}`} />
                                    </PieChart>
                                </ResponsiveContainer>
                            </div>
                        </div>

                        {/* Sales Trend (UPDATED: Start 31 Dec - 15 Days) */}
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 lg:col-span-2">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">Sales Trend (แนวโน้มยอดขาย: เริ่ม 31 ธ.ค. (15 วัน))</h3>
                            <div className="h-80">
                                <ResponsiveContainer width="100%" height="100%">
                                    <LineChart data={dailyTrend} margin={{top: 5, right: 30, left: 20, bottom: 40}}>
                                        <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#eee" />
                                        <XAxis 
                                            dataKey="name" 
                                            tick={{fill: '#6b7280', fontSize: 11}} 
                                            angle={-45}
                                            textAnchor="end"
                                            height={60}
                                            interval={0}
                                        />
                                        <YAxis tick={{fill: '#6b7280', fontSize: 12}} />
                                        <Tooltip 
                                            labelFormatter={(value) => {
                                                // Display the formatted date directly
                                                return value;
                                            }}
                                            formatter={(value) => `฿${value.toLocaleString()}`} 
                                        />
                                        <Legend verticalAlign="top" height={36}/>
                                        <Line type="monotone" dataKey="sales" stroke="#4F46E5" strokeWidth={3} dot={false} activeDot={{ r: 6 }} name="Actual Sales" />
                                        <Line type="monotone" dataKey="target" stroke="#E5E7EB" strokeWidth={2} dot={false} strokeDasharray="5 5" name="Target" />
                                    </LineChart>
                                </ResponsiveContainer>
                            </div>
                        </div>

                    </div>

                    <div className="text-center text-gray-400 text-sm mt-8 border-t pt-6">
                        <p>Standalone Sales Dashboard • Generated by Gemini</p>
                        <p className="text-xs mt-1">Runs locally in your browser. No internet required for logic (only for initial CDN load).</p>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>